#!/bin/sh

FILE="/tmp/aringa-$$"

if [ "$#" = 0 ] ; then
  cat > "$FILE"
else 
  cat "$@" > "$FILE"
fi

if ! URL=$(curl --silent -F "aringa=<$FILE" http://arin.ga) ; then
  echo "Upload error" >&2
  exit
fi

echo "$URL"

rm "$FILE"

if [ "$DISPLAY" ] ; then
  { type xsel > /dev/null 2>&1 && echo "$URL" | xsel; } ||  \
  { type xclip > /dev/null 2>&1 && echo "$URL" | xclip; } ||  \
    echo "Couldn't copy to clipboard: no xsel or xclip" >&2
fi

#Arin.Ga - Pastebin
#==================
#
#To post your content here, just send a POST request to arin.ga like this:
#  curl -F "aringa=<FILE" arin.ga
#
#You can then get the raw content from curl with a simple GET request:
#  curl arin.ga/your-code-here
#
#More info at http://arin.ga/000002

